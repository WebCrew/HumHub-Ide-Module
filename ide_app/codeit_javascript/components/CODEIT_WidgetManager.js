function CODEIT_WidgetManager(t){this.htmlElement=t,this.widgets=[],this.collapsedWidgetButtonClassName="collapsedWidgetButton",this.expandedWidgetButtonClassName="expandedWidgetButton",this.eventDispatcher=new CODEIT_EventDispatcher}CODEIT_WidgetManager.CHANGE="CHANGE",CODEIT_WidgetManager.prototype.addEventListener=function(t,e){this.eventDispatcher.addEventListener(t,e)},CODEIT_WidgetManager.prototype.removeEventListener=function(t,e){this.eventDispatcher.removeEventListener(t,e)},CODEIT_WidgetManager.prototype.addWidget=function(t,e){this.widgets.push(t);var s=this;e&&CreateEventListener(e,"mousedown",function(){s.expandOrCollapseWidget(t,this)}),this.updateWidgetLayout()},CODEIT_WidgetManager.prototype.expandOrCollapseWidget=function(t,e){var s=t.getChildById("PANEL_VIEW");"none"!=s.style.display?(s.style.display="none",e&&(e.classList.remove(this.expandedWidgetButtonClassName),e.classList.add(this.collapsedWidgetButtonClassName))):(s.style.display="block",e&&(e.classList.remove(this.collapsedWidgetButtonClassName),e.classList.add(this.expandedWidgetButtonClassName))),this.updateWidgetLayout()},CODEIT_WidgetManager.prototype.updateWidgetLayout=function(){for(var t,e,s=0,i=0,a=this.widgets.length,d=0;a>d;d++)i+=30,t=this.widgets[d],e=t.getChildById("PANEL_VIEW"),"none"!=e.style.display&&s++;for(var n=this.htmlElement.offsetHeight,o=(n-i)/s,l=0,d=0;a>d;d++)t=this.widgets[d],t.style.top=l+"px",e=t.getChildById("PANEL_VIEW"),"none"!=e.style.display?(t.style.height=o+30+"px",l+=o+30):(t.style.height="30px",l+=30);this.eventDispatcher.dispatch({type:CODEIT_WidgetManager.CHANGE})};